<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box {
				width: 100px;
				height: 100px;
				background: pink;
				position: absolute;
			}
		</style>
	</head>

	<body>
		<button>left200</button>
		<div class="box">

		</div>
		<script type="text/javascript">
			var butt1 = document.getElementsByTagName("button")[0];
			var butt2 = document.getElementsByTagName("button")[1];

			var box = document.getElementsByClassName("box")[0];
			butt1.onclick = function() {
				var json = {
					"left": 100,
					"top": 100,
					"width": 200,
					"height": 200
				}
				animate(box, json);
			}

			function animate(ele, json) {
				clearInterval(ele.timer);
				ele.timer = window.setInterval(function() {
					for(var k in json) {
						var target = json[k];
						var val = target - parseInt(finalStyle(ele, k));
						var speed = val >0 ? Math.ceil(val/10) : Math.floor(val/10); 
//						console.log(speed);
						ele.style[k] = parseInt(finalStyle(ele, k)) + speed + "px";
						console.log(1);
//						if(Math.abs(val) <= Math.abs(speed)) {
//							
////							ele.style[k] = target + "px";
//							clearInterval(ele.timer);
//						}
					}
				}, 30)
			}

			function finalStyle(ele, attr) {
				var f = ele.currentStyle ? ele.currentStyle : window.getComputedStyle(ele, null);
				return f[attr];
			}
		</script>
	</body>

</html>